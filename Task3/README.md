# Introduction to Programming

## Assignment: Task 3

### The Problem

For better or worse, most access to computer systems is still managed by passwords. Various mechanisms exist to manage keeping records of users, their passwords, and the associated permissions. On traditional Unix systems the basic information (username, real name, password, etc) is stored in a plain text file usually  called ``/etc/passwd``. 

Three command-line programs are used in the Unix world to maintain password information.

* ``adduser`` creates a new user, in the form of a new entry in the password file.
* ``deluser`` does the opposite, by removing the entry from the password file.
* ``passwd`` allows a user to change their password.

When a user attempts to access a system, the username and password they provide are checked against this file.

### The Task

Your first task is to implement the three commands above. You will provide implementations for a simplified password file. The format of the file is as follows. (In this example ``password_string`` marks where the encrypted passwords are (they would obviously be different on each line)).

```text
rms:Richard Stallman:password_string
ada:Ada Lovelace:password_string
jb:Justin Bieber:password_string
homer:Homer Simpson:password_string
```

The first part is the username, which always consists of lowercase letters. The second field is the user's real name. The third is their encrypted password. The three fields are separated with colons (``:``).

**This file is generated by the programs that maintain it (a default version is created when the system is installed), so it is safe to assume that it is always formatted as expected, which is as shown. The order of the lines in the file is not significant.**

Your programs should work as follows:

<dl>
<dt>adduser</dt>
<dd>Adds a new entry to the file. It can be added anywhere. The user should enter the desired username, the real name, and the password. If the username already exists, an error should be shown. It is fine for several users to have the same real name.</dd>

<dt>adduser</dt>
<dd>Removes an entry from the file. This should be based on the username, which is known to be unique. If the user is not found, it should display a message to say nothing was changed.</dd>

<dt>passwd</dt>
<dd>Changes a user's password. The user should enter their username, and their new password. As is customary, for verification, the new password should be entered twice. It should not appear on the screen as it is typed. If the username is not found, or the passwords do not match, no change to the file should be made.</dd>
</dl>

The password itself should be stored in some encrypted form. Anything is fine, even a simple substitution or trivial obfuscation. There are no extra marks for doing something more complicated!

Your fourth program should be a simple "login" where the user enters a username and password, and the program reports whether or not they would be allowed to access the system. The password should not be displayed as it is typed, but it is fine to print it out for testing purposes.

In all these programs it is fine to hard-code the name of the file. The best approach found to include it on *one* file that is read by each of the programs. The programs will obviously fail if the file cannot be found; they should do this gracefully with helpful messages.

Likewise, it is quite possible that one or more of your programs could require the same functions. Such code should **not** be duplicated in multiple programs.

*In completing the tasks above you may use any module from the Python Standard Library. Indeed, it will be very difficult to achieve good results without doing so!*

*If you want to use serious encryption for passwords, you are welcome to use the ``cryptography`` module from PyPi, but there is no need to do so. Nor are there any extra marks for doing so. If you use any modules from PyPi you should include in your repo a clear statement of what you have used (the usual ``requirements.txt``) file is fine.*

### Examples

Examples of the correct results are above.



