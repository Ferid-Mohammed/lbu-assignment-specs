# Introduction to Programming

## Assignment: Task 3

### The Problem

Most access to computer systems is managed by passwords. On traditional Unix systems the basic information (username, real name, password, etc) is stored in a file called ``/etc/passwd``. Two command-line programs are used in the Unix world to maintain password information.

* ``adduser`` creates a new user, in the form on an entry in the password file.
* ``passwd`` allows a user to change their password.

When a user attempts to access a system, the username and password are checked against this file.

### The Task

Your first task is to implement the two commands above for a simplified password file. The format of the file is as follows. In this example ``password_string`` marks where the encrypted passwords are (they would obviously be different on each line).

```text
rms:Richard Stallman:password_string
ada:Ada Lovelace:password_string
jb:Justin Bieber:password_string
homer:Homer Simpson:password_string
```

The first part is the username, which is always lowercase letters. The second field is the user's real name. The third is their encrypted password. The three fields are separated with colons (``:``).

**This file is generated by the computer, so it is safe to assume that it is always formatted correctly, as shown. The order of the lines in the file is not important.**

Your programs should work as follows:

<dl>
<dt>adduser</dt>
<dd>Adds a new entry to the file. It can be added anywhere. The user should enter the desired username, the real name, and the password. If the username already exists, an error should be shown. It is fine for several users to have the same real name.</dd>

<dt>passwd</dt>
<dd>Changes a user's password. The user should enter their username, and their new password. As is customary, for verification, the new password should be entered twice. *And it should not appear on the screen as it is typed.* If the username is not found, or the passwords do not match, no change should be made.</dd>
</dl>

The password should be stored in some encrypted form. Anything is fine, even a simple substitution. There are no extra marks for doing something more complicated!

Your third program should be a simple "login" where the user enters a username and password, and the program reports whether or not they would be allowed to access the system. The password should not be displayed as it is typed, but it is fine to print it out for testing purposes.

In all these programs it is fine to hard-code the name of the file. Each of the programs will obviously fail if the file cannot be found; they should do this gracefully with helpful messages.

*In completing the tasks above you may use any module from the Python Standard Library. Indeed, it will be very difficult to achieve good results without doing so!*

*If you want to use serious encryption for passwords, you are welcome to use the ``cryptography`` module from PyPi, but there is no need to do so. Nor are there any extra marks for doing so. If you use any modules from PyPi you should include in your repo a clear statement of what you have used (the usual ``requirements.txt``) file is file.*

### Examples

Examples of the correct results are above.

Remember that the student data is stored in a file, and the output is written to another file. The name of
the first file is provided as a command-line argument. The program should therefore behave sensibly if the
file cannot be opened or if the CLA is missing.

```text
$ py email_generator.py 
Error: Missing command-line argument.

$ py email_generator.py missing.txt
Error: Cannot open "missing.txt". Sorry about that.

```

If the program works correctly there should be no output to the screen.


